(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{10:function(e,t,a){e.exports={item:"ImageGalleryItem_item__B8eBU",image:"ImageGalleryItem_image__2oaBk"}},11:function(e,t,a){e.exports={Overlay:"Modal_Overlay__1SoiS",Modal:"Modal_Modal__3XQAp"}},21:function(e,t,a){e.exports={button:"Button_button__2riZF"}},22:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__2qJae"}},24:function(e,t,a){e.exports={Loader:"Loader_Loader__1cZ_X"}},5:function(e,t,a){e.exports={header:"SearchBar_header__4hJx9",form:"SearchBar_form__2n36o",button:"SearchBar_button__24oSx",label:"SearchBar_label__3m_YK",input:"SearchBar_input__NgGv4"}},71:function(e,t,a){},72:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),r=a(7),o=a.n(r),i=a(12),s=a(4),u=a(5),l=a.n(u),j=a(0);var b=function(e){var t=e.onSubmit,a=Object(n.useState)(""),c=Object(s.a)(a,2),r=c[0],o=c[1];return Object(j.jsx)("header",{className:l.a.header,children:Object(j.jsxs)("form",{className:l.a.form,onSubmit:function(e){e.preventDefault(),""!==r.trim()?(t(r),o("")):alert("Enter a query!")},children:[Object(j.jsx)("button",{type:"submit",className:l.a.button,children:Object(j.jsx)("span",{className:l.a.label,children:" Search"})}),Object(j.jsx)("input",{className:l.a.input,type:"text",placeholder:"Search images and photos",value:r,onChange:function(e){o(e.currentTarget.value.toLowerCase())}})]})})},d=a(10),m=a.n(d);function h(e){var t=e.image,a=e.onClick,n=t.webformatURL,c=t.tags,r=t.largeImageURL;return Object(j.jsx)("li",{className:m.a.item,children:Object(j.jsx)("img",{src:n,alt:c,className:m.a.image,onClick:function(){return a(r,c)}})})}var O=a(21),f=a.n(O),p=function(e){var t=e.onClick,a=e.type;return Object(j.jsx)("button",{className:f.a.button,type:a,onClick:t,children:"Load more"})},g=a(11),x=a.n(g),_=document.querySelector("#modal-root");var v=function(e){var t=e.onClick,a=e.children;Object(n.useEffect)((function(){return window.addEventListener("keydown",c),window.addEventListener("click",o),function(){window.removeEventListener("keydown",c),window.removeEventListener("click",o)}}));var c=function(e){"Escape"===e.code&&t()},o=function(e){e.currentTarget===e.target&&t()};return Object(r.createPortal)(Object(j.jsx)("div",{className:x.a.Overlay,onClick:o,children:Object(j.jsx)("div",{className:x.a.Modal,children:a})}),_)},y=a(22),S=a.n(y);function k(e){var t=e.gallery,a=e.updatePage,c=Object(n.useState)(!1),r=Object(s.a)(c,2),o=r[0],i=r[1],u=Object(n.useState)(""),l=Object(s.a)(u,2),b=l[0],d=l[1],m=Object(n.useState)(""),O=Object(s.a)(m,2),f=O[0],g=O[1],x=function(e,t){d(e),g(t),i((function(e){return!e}))};return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("ul",{className:S.a.ImageGallery,children:t.map((function(e){return Object(j.jsx)(h,{image:e,onClick:x},e.id)}))}),o&&Object(j.jsx)(v,{onClick:x,children:Object(j.jsx)("img",{src:b,alt:f})}),Object(j.jsx)(p,{onClick:function(){return a()},type:"button"})]})}var w=a(23),N=a.n(w),I=(a(51),a(24)),L=a.n(I);var B=function(){return Object(j.jsx)(N.a,{className:L.a.Loader,type:"Puff",color:"#00BFFF",height:100,width:100,timeout:3e3})},C=a(25),E=a.n(C),q={fetchImage:function(e){var t=e.query,a=e.currentPage;return E.a.get("https://pixabay.com/api/?key=".concat("19388230-75c4bcf9e22da5087bb0ddd0d","&q=").concat(t,"&image_type=photo&orientation=horizontal&page=").concat(a,"&per_page=").concat(12)).then((function(e){return e.data.hits}))}},G=(a(70),a(71),"idle"),P="resolved",M="rejected";function F(){var e=Object(n.useState)(G),t=Object(s.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(""),o=Object(s.a)(r,2),u=o[0],l=o[1],d=Object(n.useState)([]),m=Object(s.a)(d,2),h=m[0],O=m[1],f=Object(n.useState)(null),p=Object(s.a)(f,2),g=p[0],x=p[1],_=Object(n.useState)(null),v=Object(s.a)(_,2),y=v[0],S=v[1],w=function(e){l(e),x(1)};Object(n.useEffect)((function(){u&&(c(G),q.fetchImage({query:u,currentPage:g}).then((function(e){g>1?(O((function(t){return[].concat(Object(i.a)(t),Object(i.a)(e))})),c(P),N()):(O(e),c(P))})).catch((function(e){S("Picture not found"),c(M)})))}),[g,u]);var N=function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})};return"idle"===a?Object(j.jsxs)("div",{className:"app",children:[Object(j.jsx)(b,{onSubmit:w}),Object(j.jsx)("h1",{className:"title",children:"Enter a query by name to search, image or photo"})]}):"panding"===a?Object(j.jsxs)("div",{className:"app",children:[Object(j.jsx)(b,{onSubmit:w}),Object(j.jsx)(B,{}),";"]}):"rejected"===a?Object(j.jsxs)("div",{className:"app",children:[Object(j.jsx)(b,{onSubmit:w}),Object(j.jsx)("h1",{children:y})]}):"resolved"===a?Object(j.jsxs)("div",{className:"app",children:[Object(j.jsx)(b,{onSubmit:w}),Object(j.jsx)(k,{gallery:h,updatePage:function(){x((function(e){return e+1}))}})]}):void 0}o.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(F,{})}),document.getElementById("root"))}},[[72,1,2]]]);
//# sourceMappingURL=main.eaddf39e.chunk.js.map